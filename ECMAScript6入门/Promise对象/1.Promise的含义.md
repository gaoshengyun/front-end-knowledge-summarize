## Promise的含义

Promise是异步编程的一种解决文案,比传统的解决方案(回调函数和事件)更合理,更强大.它由社区最早提出,ES6将其写进了语言标准,统一了用法,原生提供了`Promise`对象

所谓`Promise`,简单的说就是一个容器,里面保存着某个未来才会结束的事件(通常是一个异步操作)的结果.从语法上说,Promise是一个对象,从它可以获取异步操作的消息.Promise提供统一的API,,各种异步操作都可以用同样的方法处理.

`Promise`对象有以下两个特点
- 对象的状态不爱外界影响.`Promise`对象代表一个异步操作,有有一种状态:`pending`(进行中),`fulfiled`(已成功)和`rejected`(已失败).只有异步操作的结果,可以决定当前是哪一种状态,任何其他操作都无法改变这个状态.这也是`Promise`这个名字的几点来,它的意思就是"承诺",表示其他手段无法改变.

- 一旦状态改变,就不会再变,任何时候都可以得到这个结果.`Promise`对象的状态改变,只有两种可能:从`pending`变为`fulfilled`和从`pending`变为`rejected`.只要这两种情况发生,状态就凝固了,不会再改变了,会一起操持这个状态结果,这时就称为`resolved`(已定型).如果改变已经发生了,你再对`Promise`对象添加回调函数,也会立即提到这个结果.这与事件(Event)完全不同,事件的特点是,如果你错过了它,再去监听,是得不到结果的.

有了`Promise`对象,就可以将异步操作以同步操作的流程表达出来.避免了层层嵌套的回调函数.此外`Promise`对象提供统一的接口,舍不得控制异步操作更加容易

`Promise`也有一些缺点.首先,无法取消Promise,一旦新建它就会立即执行,无法中途取消.其次,如果不设置回调函数,`Promise`内部抛出的错误,不会反应到外部.第三,当处于`pending`状态时,无法得知目前进展到哪一个阶段(刚开始还是即将完成)

如果某些事件不断地反复发生,一般来说使用`Stream`模式比部署`Promise`更好的选择